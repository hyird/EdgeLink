{
  "permissions": {
    "allow": [
      "Bash(cd:*)",
      "Bash(git -C \"D:\\\\WorkSpace\\\\EdgeLink\" status)",
      "Bash(git -C \"D:\\\\WorkSpace\\\\EdgeLink\" diff --stat docs/architecture.md)",
      "Bash(git -C \"D:\\\\WorkSpace\\\\EdgeLink\" log -3 --oneline)",
      "Bash(git -C \"D:\\\\WorkSpace\\\\EdgeLink\" add docs/architecture.md)",
      "Bash(git -C \"D:\\\\WorkSpace\\\\EdgeLink\" commit -m \"$\\(cat <<''EOF''\nEnhance architecture document v2.5 with complete specifications\n\n- Add missing configuration items \\(worker_threads, heartbeat, reconnect, p2p keepalive, queue backpressure\\)\n- Add database schema definitions \\(8 tables with indexes\\)\n- Document SubnetInfo encoding with binary examples\n- Add total frame length calculation to Appendix H examples\n- Rename appendices \\(J→K for terminology\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"D:\\\\WorkSpace\\\\EdgeLink\" push)",
      "Bash(git -C \"D:\\\\WorkSpace\\\\EdgeLink\" commit -m \"$\\(cat <<''EOF''\nStandardize WebSocket endpoint paths with /api/v1/ prefix\n\n- Unify /relay → /api/v1/relay, /mesh → /api/v1/mesh \\(2.1\\)\n- Update path concatenation rules table \\(12.0\\)\n- Fix CLI examples to not include paths \\(14.4\\)\n- Fix config examples to not include paths \\(Appendix I\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"D:\\\\WorkSpace\\\\EdgeLink\" commit -m \"$\\(cat <<''EOF''\nAdd missing Payload definitions, data structures, and database tables \\(v2.6\\)\n\n- Add AUTH_CHALLENGE/VERIFY, CONFIG_ACK, LATENCY_REPORT, P2P_KEEPALIVE Payloads\n- Add Server class Payloads \\(0x50-0x56\\): REGISTER, NODE_LOC, BLACKLIST, etc.\n- Add RELAY_AUTH/RESP Payloads for relay authentication\n- Add Mesh Payloads \\(0x70-0x74\\): HELLO, FORWARD, PING/PONG\n- Add RelayInfo and STUNInfo structure definitions\n- Fix JWT config to support both ES256 \\(with key files\\) and HS256\n- Unify virtual_ip to string type, add arch/version fields to nodes\n- Add user_nodes and p2p_connections database tables with indexes\n- Clarify CONFIG expires field and Fragment Header orig_type purpose\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"D:\\\\WorkSpace\\\\EdgeLink\" commit -m \"$\\(cat <<''EOF''\nFix inconsistencies and add missing documentation \\(v2.7\\)\n\nRed fixes:\n- Unify table name: auth_keys -> authkeys in section 7.1\n- Add missing nodes table fields: is_exit_node, is_gateway\n- Add missing users table fields: email, enabled, last_login\n- Document TOKEN_REFRESH additional fields in CONFIG_UPDATE\n\nYellow improvements:\n- Add authkeys.key unique index for efficient key lookup\n- Add JWT blacklist mechanism section \\(5.7.5\\): storage, sync, cleanup\n- Add protocol version compatibility section \\(2.2.4\\)\n\nMinor fixes:\n- Complete BoringSSL commit hash \\(was truncated\\)\n- Fix \"Go/C++\" -> \"Language: C++23\" in version output\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"D:\\\\WorkSpace\\\\EdgeLink\" commit -m \"$\\(cat <<''EOF''\nAdd CDN/reverse proxy support configuration \\(v2.8\\)\n\nNew configuration options:\n- Controller: http.public_url for external access URL\n- Relay: relay.public_url for data plane URL through CDN\n- Relay: stun.public_ip and stun.public_port for direct UDP \\(bypass CDN\\)\n- Relay: stun.listen_address for binding\n\nNew section 12.5 CDN/Reverse Proxy Deployment:\n- Architecture diagram showing WSS via CDN + UDP direct\n- Configuration explanation and constraints\n- CloudFlare CDN deployment example\n\nKey design:\n- WebSocket connections can go through CDN\n- STUN must use real public IP for UDP hole punching\n- URLs auto-propagate: Controller->Client, Relay->Controller->Client\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C \"D:\\\\WorkSpace\\\\EdgeLink\" commit -m \"$\\(cat <<''EOF''\nClarify CDN coverage: data plane also goes through CDN\n\n- Update architecture diagram to show full data flow\n- WebSocket 全链路可走 CDN:\n  - 控制面: Client ↔ Controller\n  - 数据面: Client ↔ Relay ↔ Client \\(中继转发\\)\n- STUN must bypass CDN for UDP hole punching\n- P2P direct connection after successful hole punching\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(cmake:*)",
      "Bash(git restore:*)"
    ]
  }
}
