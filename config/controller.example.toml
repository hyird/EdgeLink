# EdgeLink Controller Configuration
# Copy this file to controller.toml and modify as needed

[server]
# Bind address for the server
bind = "0.0.0.0"

# Port to listen on
port = 8080

# Number of IO threads (0 = auto, uses hardware_concurrency)
threads = 0

# Enable TLS (default: false)
tls = false

[ssl]
# SSL certificate file (PEM format) - only used if tls = true
# If not specified, a self-signed certificate will be generated
# cert = "/path/to/cert.pem"

# SSL private key file (PEM format)
# key = "/path/to/key.pem"

[database]
# SQLite database file path
path = "edgelink.db"

[jwt]
# JWT secret for token signing
# If not specified, a random secret is generated (tokens won't survive restarts)
# secret = "your-secret-key-here"

# Auth token validity in hours (default: 24)
auth_token_hours = 24

# Relay token validity in minutes (default: 90)
relay_token_minutes = 90

[builtin_relay]
# Built-in relay server configuration
# enabled = true
name = "main-relay"
region = "cn-east-1"
priority = 100

[builtin_stun]
# Built-in STUN server configuration
# Set enabled = true and provide public_ip to enable STUN service
enabled = false

# Public IP address (required if enabled)
# Clients will use this IP to connect to the STUN server
# public_ip = "203.0.113.1"

# STUN server port (default: 3478)
port = 3478

[log]
# Log level: trace, debug, info, warn, error
level = "debug"

# Log file (optional, logs to console if not specified)
# file = "/var/log/edgelink-controller.log"
