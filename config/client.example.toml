# EdgeLink Client Configuration
# Copy this file to client.toml and modify as needed

[controller]
# Controller server address (API paths are appended automatically)
url = "localhost:8080"

# Enable TLS (wss://), default: disabled
tls = false

# Authentication key (required)
# Get this from your network administrator
authkey = "tskey-dev-test123"

[connection]
# Automatically reconnect on disconnect
auto_reconnect = true

# Reconnection interval in seconds
reconnect_interval = 5

# Keepalive ping interval in seconds (keep low to avoid CDN idle timeout)
ping_interval = 5

# DNS refresh interval in seconds (detect server IP changes, 0 = disabled)
dns_refresh_interval = 60

# Automatic peer latency measurement interval in seconds (0 = disabled)
latency_measure_interval = 30

[ssl]
# Enable SSL certificate verification (default: false for development)
# Set to true in production environments
verify = false

# Custom CA certificate file (PEM format)
# Leave empty to use system default CA store
# ca_file = "/path/to/ca.pem"

# Allow self-signed certificates (only effective when verify = true)
allow_self_signed = false

[storage]
# Directory for storing client state (keys, etc.)
# If not specified, uses platform-specific default
# state_dir = "/var/lib/edgelink"

[tun]
# Enable TUN device for IP-level routing (allows ping between virtual IPs)
# Requires administrator/root privileges
enable = false

# TUN device name (empty = auto-generate)
# Linux: e.g., "edgelink0"
# Windows: e.g., "EdgeLink"
# name = ""

# MTU for TUN device (default: 1420)
# mtu = 1420

[ipc]
# Enable IPC control interface for CLI commands (status, peers, down)
enable = true

# IPC socket path (empty = platform default)
# Linux: $XDG_RUNTIME_DIR/edgelink-client.sock or /tmp/edgelink-client.sock
# macOS: $TMPDIR/edgelink-client.sock or /tmp/edgelink-client.sock
# Windows: %TEMP%\edgelink-client.sock
# socket_path = ""

[log]
# Log level: trace, debug, info, warn, error
level = "debug"

# Log file (optional, logs to console if not specified)
# file = "/var/log/edgelink-client.log"
